# 第三方应用迁移容器云平台标准流程说明

### 目录

## 一、概述

      本文档目的为民生保险在测试及生产环境下，如何将第三方的应用在 Rancher容器云平台及Wisebuild 管理平台得到合理的部署及应用，并提高效率及性能提供一定的建议及标准流程规范。我们在结合Rancher及民生保险现有的业务流程， 梳理各个单元的优缺点及相关性的基础上总结提出几个实现第三方应用容器化的合理步骤，并细化设计规范各流程的标准输入、输出管理需求，力求保障本流程能够顺利的在需要部署不同应用类型、来源及技术背景的应用需求下发挥最佳推荐路线图的作用。 

      通常，一个第三方的应用首先需要在了解现有容器云管理平台提供的基础功能的基础了上，合理规划及分拆自身现有应用的组织结构，并需要在容器化场景下做最基础的功能验证，然后遵循云平台管理的标准规范要求进行实施部署，本文详细说明各个细分阶段的任务目标及对人员、文档及任务输入、输出规范要求，以在规范化、量化的基础上保障运行、提升效率。

## 二、平台功能详述

```
 平台主要功能简介 ：
    包括说明云平台主要模块及功能 《容器云平台总体设计功能说明文档》
```

```
推荐的应用容器网设计原则 ：

       平台网络机制说明主机网络、容器网络及平台网络

       容器存储

       平台服务发现功能应用方式推荐
```

## 三、 业务流程说明（初稿）

1. ### 迁移工作量及难度评估标准表格（excel 调查表）

2. ### 通常的应用迁移到云平台的步骤流程说明

  #### 第1步骤：平台功能说明及应用适用性初步交流阶段

  ##### 阶段目标（输入）

  本阶段目的为确定应用是否适用于容器平台，及初步评估工作周期及工作量。预估相关的困难度及预设实施周期。

  ##### 阶段参与人员技能要求说明：

  参与人员要求     知识储备要求     表格内容填写人员角色要求

  ##### 阶段人员责任分区及相关说明：

  ##### 阶段输出

  应用容器化需求评估总结文档（输出表格方式）

  #### 第2步骤： 应用容器化功能功能方案调研及验证调试阶段

  ##### 阶段目标（输入\)

  本阶段要求确定并验证应用服务拆分方案，并在此基础上出具相应的服务发现机制等改造方案文档，测试文档及应用发现机制说明文档，应用日志输出方案说明文档。

  ##### 阶段技能要求：

  本阶段沟通应在涉及双方的沟通人员对云平台功能有较明确的了解并明确第三方应用将在平台实现的最后需求或目标效果的基础之上，对应用的分拆粒度，分拆方式及服务发现方式、负载均衡方案、参数传递方式、应用更新及日志输出方案做具体的设计。并依据此需求进行相应的测试验证工作。

  ##### 阶段人员职责明确及相关说明：

  参与人员要求 知识储备要求 表格内容填写人员角色要求

  ##### 阶段（输出 ）

  应用服务拆分整体设计方案， 应用服务拆方案验证及实施配置文档

  #### 第3步骤：应用标准化改造实施阶段

  ##### 阶段目标（输入\)

  在功能完整性验证的基础上，遵循容器化平台生产环境应用部署需求，依照《容器化基础原则》，《微服务框架在rancher平台的应用部署标准》等要求，梳理从应用基础镜像及服务发现、负载机制、扩展能力等参数指标。在确认功能的基础上，基于rancher-compose 及docker-compose 制作统一的一键部署商店应用并进行测试。

  ##### 阶段技能要求：

  ##### 阶段人员职责明确及相关说明：

  参与人员要求 知识储备要求 表格内容填写人员角色要求

  ##### 阶段（输出 ）

  一键部署应用商店代码， 扩展、负载等功能验证文档


